<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-VXS8Z5LP0X"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-VXS8Z5LP0X');
  </script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Zsasteroids</title>
  <link rel="stylesheet" href="new_design.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <link rel="icon" type="image/png" href="images/zsasteroids_icon_no_bg.png" />
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="main-container">
    <div class="container" id="video-container">
      <h1 class="zsasteroids">ZSASTEROIDS</h1>
      <div class="video-wrapper">
      <video id="background-video" autoplay muted></video>
      </div>
    </div>

    <div class="container" id="score-section">
      <div class="title-row">
        <img src="images/zsasteroids_icon_no_bg.png" alt="Left Icon" class="left-image" />
        <h2 class="top20Scores">Top 20 High Scores</h2>
        <img src="images/zsasteroids_icon_no_bg.png" alt="Right Icon" class="right-image" />
      </div>
      <div id="score-container">
        <div id="first-column">
          <table class="score-table">
            <thead>
              <tr><th>Rank</th><th>Score</th></tr>
            </thead>
            <tbody id="score-col-1"></tbody>
          </table>
          <div id="total-games" class="total-info">Loading total games played...</div>
        </div>
        <div id="second-column">
          <table class="score-table">
            <thead>
              <tr><th>Rank</th><th>Score</th></tr>
            </thead>
            <tbody id="score-col-2"></tbody>
          </table>
          <div id="total-scores" class="total-info">Loading total scores...</div>
        </div>
      </div>
    </div>
    <div class= "container theme-container">
      <div class="theme-selection">
        <div class="theme-header">
          <span class="theme-label">Choose a theme to play:</span>
        </div>
        <div class="theme-buttons">
          <button class="theme-button space-button" onclick="location.href='space.html?theme=space'">üöÄ Space</button>
          <button class="theme-button ocean-button" onclick="location.href='ocean.html?theme=ocean'">üåä Ocean</button>
          <button class="theme-button jungle-button" onclick="location.href='jungle.html?theme=jungle'">üêí Jungle</button>
          <button class="theme-button ww2-button" onclick="location.href='ww2.html?theme=ww2'">üí£ World War II</button>
        </div>
      </div>
    </div>
    <div class="container" id="info-box">
      <h2>Game Instructions</h2>
      <h3>Welcome to Zsasteroids!</h3>

      <p>In this game, you have <strong>1 minute</strong> to score as many points as you can ‚Äî and if you are good enough, you might make it into the <strong>Top 20</strong>.</p>

      <p>The smaller the object you hit (asteroid, mine, etc.), the more points you earn. The first power-up appears <strong>5 seconds</strong> after the game starts, and then every <strong>15 seconds</strong> after that.</p>

      <p><strong style="color: red;">--------------------</strong></p>

      <p><strong style="color: red;">New update: </strong></p>

      <p>The <strong style="color: red;">Strike</strong> goes across the game area in just <strong>1 second</strong> ‚Äì it might come from the <strong>left</strong> or the <strong>right</strong>, but it always blasts straight through the <strong>center of the screen</strong>!</p>

      <p>Hit the Strike and you'll earn <strong>+200 points</strong>. But watch out ‚Äì if it hits you, it's <strong>game over</strong>!</p>

      <p><strong style="color: red;">--------------------</strong></p>
    
      <p>Pick up a power-up to gain <strong>double movement and attack speed</strong> for <strong>8 seconds</strong> ‚Äî keep an eye <strong>on the top-left corner</strong> to see how much boost time is left.</p>

      <p>If you pick up a <strong>multishot power-up</strong>, your ship will fire <strong>3 bullets at once</strong>. The multishot effect also lasts for <strong>8 seconds</strong>.</p>
      
      <p>The first multishot power-up spawns <strong>10 seconds</strong> after the game starts, and then every <strong>20 seconds</strong> after that.</p>
          
      <p>The game ends when you <strong>collide with an object</strong> or <strong>run out of time.</strong>.</p>

      <p>If your final score puts you in the <strong>Top 5</strong>, you will get to enter your nickname (max 8 characters) ‚Äî it will appear on the <strong>Top 20 scoreboard</strong>.</p>
    
      <p><strong>Good luck!</strong></p>

    </div>

    <div class="container" id="social-box">
      <h2 class="socialmedia">SOCIAL MEDIA</h2>
      <div class="social-buttons">
      <button class="tiktok-button" onclick="window.open('https://www.tiktok.com/@www.zsasteroids.com', '_blank')">
        <i class="fab fa-tiktok"></i> TikTok
      </button>
      <button class="youtube-button" onclick="window.open('https://www.youtube.com/@zsasteroids', '_blank')">
        <i class="fab fa-youtube"></i> YouTube
      </button>
    </div>
    </div>
  </div>
  <div class="background-container"></div>
  <script src="flying_background.js"></script>
  <script type="module" src="main_supabase.js"></script>
  <script>
    const videoSources = [
      "videos/jungle.mp4",
      "videos/ww2.mp4",
      "videos/ocean.mp4",
      "videos/space.mp4"
    ];
  
    const videoElement = document.getElementById('background-video');
  
    function getRandomVideoSrc(excludeSrc) {
      let filtered = videoSources.filter(src => src !== excludeSrc);
      let randomIndex = Math.floor(Math.random() * filtered.length);
      return filtered[randomIndex];
    }
  
    function playNextVideo(currentSrc) {
      let nextSrc = getRandomVideoSrc(currentSrc);
      videoElement.src = nextSrc;
      videoElement.play();
    }
  
    videoElement.addEventListener('ended', () => {
      playNextVideo(videoElement.src);
    });
  
    playNextVideo("");
  </script>
</body>
</html>
